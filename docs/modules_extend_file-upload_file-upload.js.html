<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>modules/extend/file-upload/file-upload.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="LY.html">LY</a><ul class='members'><li data-type='member' style='display: none;'><a href="LY.html#.Ajax">Ajax</a></li><li data-type='member' style='display: none;'><a href="LY.html#.Component">Component</a></li><li data-type='member' style='display: none;'><a href="LY.html#.EventBus">EventBus</a></li><li data-type='member' style='display: none;'><a href="LY.html#.Extend">Extend</a></li><li data-type='member' style='display: none;'><a href="LY.html#.Form">Form</a></li><li data-type='member' style='display: none;'><a href="LY.html#.MyNode">MyNode</a></li><li data-type='member' style='display: none;'><a href="LY.html#.Observe">Observe</a></li><li data-type='member' style='display: none;'><a href="LY.html#.TaskQueue">TaskQueue</a></li><li data-type='member' style='display: none;'><a href="LY.html#.Time">Time</a></li><li data-type='member' style='display: none;'><a href="LY.html#.Util">Util</a></li><li data-type='member' style='display: none;'><a href="LY.html#.VC">VC</a></li><li data-type='member' style='display: none;'><a href="LY.html#.Watcher">Watcher</a></li><li data-type='member' style='display: none;'><a href="LY.html#.XMLNode">XMLNode</a></li></ul></li></ul><h3>Modules</h3><ul><li><a href="module-Ajax.html">Ajax</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-Ajax.html#.intercept">intercept</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Ajax.html#.filterHTML">filterHTML</a></li><li data-type='method' style='display: none;'><a href="module-Ajax.html#.formatData">formatData</a></li><li data-type='method' style='display: none;'><a href="module-Ajax.html#.formatParam">formatParam</a></li><li data-type='method' style='display: none;'><a href="module-Ajax.html#.load">load</a></li><li data-type='method' style='display: none;'><a href="module-Ajax.html#.req">req</a></li><li data-type='method' style='display: none;'><a href="module-Ajax.html#.request">request</a></li><li data-type='method' style='display: none;'><a href="module-Ajax.html#.upload">upload</a></li></ul></li><li><a href="module-Extend.html">Extend</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-Extend.html#.FixedTheadTable">FixedTheadTable</a></li><li data-type='member' style='display: none;'><a href="module-Extend.html#.ScrollBar">ScrollBar</a></li><li data-type='member' style='display: none;'><a href="module-Extend.html#.WaterMark">WaterMark</a></li></ul></li><li><a href="module-Form.html">Form</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Form.html#findItem">findItem</a></li><li data-type='method' style='display: none;'><a href="module-Form.html#formatList">formatList</a></li><li data-type='method' style='display: none;'><a href="module-Form.html#setLabel">setLabel</a></li></ul></li><li><a href="module-Util.html">Util</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-Util.html#.animation">animation</a></li><li data-type='member' style='display: none;'><a href="module-Util.html#.request">request</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Util.html#.calStringLength">calStringLength</a></li><li data-type='method' style='display: none;'><a href="module-Util.html#.class2type">class2type</a></li><li data-type='method' style='display: none;'><a href="module-Util.html#.compare">compare</a></li><li data-type='method' style='display: none;'><a href="module-Util.html#.debounce">debounce</a></li><li data-type='method' style='display: none;'><a href="module-Util.html#.decode">decode</a></li><li data-type='method' style='display: none;'><a href="module-Util.html#.deepClone">deepClone</a></li><li data-type='method' style='display: none;'><a href="module-Util.html#.encode">encode</a></li><li data-type='method' style='display: none;'><a href="module-Util.html#.eval">eval</a></li><li data-type='method' style='display: none;'><a href="module-Util.html#.exitFullScreen">exitFullScreen</a></li><li data-type='method' style='display: none;'><a href="module-Util.html#.getBrowserInfo">getBrowserInfo</a></li><li data-type='method' style='display: none;'><a href="module-Util.html#.getURLSearchParams">getURLSearchParams</a></li><li data-type='method' style='display: none;'><a href="module-Util.html#.isArrayLike">isArrayLike</a></li><li data-type='method' style='display: none;'><a href="module-Util.html#.isFunction">isFunction</a></li><li data-type='method' style='display: none;'><a href="module-Util.html#.isWindow">isWindow</a></li><li data-type='method' style='display: none;'><a href="module-Util.html#.max">max</a></li><li data-type='method' style='display: none;'><a href="module-Util.html#.monitor">monitor</a></li><li data-type='method' style='display: none;'><a href="module-Util.html#.proxyToJSON">proxyToJSON</a></li><li data-type='method' style='display: none;'><a href="module-Util.html#.setTimeout">setTimeout</a></li><li data-type='method' style='display: none;'><a href="module-Util.html#.throttle">throttle</a></li><li data-type='method' style='display: none;'><a href="module-Util.html#.toArray">toArray</a></li><li data-type='method' style='display: none;'><a href="module-Util.html#.toFullScreen">toFullScreen</a></li><li data-type='method' style='display: none;'><a href="module-Util.html#.toLowerUpper">toLowerUpper</a></li><li data-type='method' style='display: none;'><a href="module-Util.html#.transformNumber">transformNumber</a></li><li data-type='method' style='display: none;'><a href="module-Util.html#.type">type</a></li><li data-type='method' style='display: none;'><a href="module-Util.html#.updateURLSearchParams">updateURLSearchParams</a></li><li data-type='method' style='display: none;'><a href="module-Util.html#~convertImageToBase64">convertImageToBase64</a></li></ul></li><li><a href="module-VC.html">VC</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-VC.html#.cache">cache</a></li><li data-type='member' style='display: none;'><a href="module-VC.html#.config">config</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="module-VC.html#.formatPath">formatPath</a></li><li data-type='method' style='display: none;'><a href="module-VC.html#.handleCSSRules">handleCSSRules</a></li><li data-type='method' style='display: none;'><a href="module-VC.html#.handleCSSStyleRule">handleCSSStyleRule</a></li><li data-type='method' style='display: none;'><a href="module-VC.html#.handleStyleNodeItem">handleStyleNodeItem</a></li><li data-type='method' style='display: none;'><a href="module-VC.html#.importScript">importScript</a></li><li data-type='method' style='display: none;'><a href="module-VC.html#.importStyle">importStyle</a></li><li data-type='method' style='display: none;'><a href="module-VC.html#.importViewComponent">importViewComponent</a></li><li data-type='method' style='display: none;'><a href="module-VC.html#.imports">imports</a></li><li data-type='method' style='display: none;'><a href="module-VC.html#.parseComponentName">parseComponentName</a></li><li data-type='method' style='display: none;'><a href="module-VC.html#.parseComponentNode">parseComponentNode</a></li><li data-type='method' style='display: none;'><a href="module-VC.html#.parseComponentNormalNode">parseComponentNormalNode</a></li><li data-type='method' style='display: none;'><a href="module-VC.html#.parseComponentPackageNode">parseComponentPackageNode</a></li><li data-type='method' style='display: none;'><a href="module-VC.html#.parseFileNode">parseFileNode</a></li><li data-type='method' style='display: none;'><a href="module-VC.html#.parseScriptNode">parseScriptNode</a></li><li data-type='method' style='display: none;'><a href="module-VC.html#.parseStyleNode">parseStyleNode</a></li><li data-type='method' style='display: none;'><a href="module-VC.html#.parseTemplateNode">parseTemplateNode</a></li><li data-type='method' style='display: none;'><a href="module-VC.html#.parseViewComponent">parseViewComponent</a></li></ul></li></ul><h3>Classes</h3><ul><li><a href="CanvasMark.html">CanvasMark</a><ul class='methods'><li data-type='method' style='display: none;'><a href="CanvasMark.html#_after_destroyed">_after_destroyed</a></li><li data-type='method' style='display: none;'><a href="CanvasMark.html#_before_load">_before_load</a></li><li data-type='method' style='display: none;'><a href="CanvasMark.html#_destroyed">_destroyed</a></li><li data-type='method' style='display: none;'><a href="CanvasMark.html#_has_child">_has_child</a></li><li data-type='method' style='display: none;'><a href="CanvasMark.html#_has_parent">_has_parent</a></li><li data-type='method' style='display: none;'><a href="CanvasMark.html#_instantiate_component">_instantiate_component</a></li><li data-type='method' style='display: none;'><a href="CanvasMark.html#_listen_component">_listen_component</a></li><li data-type='method' style='display: none;'><a href="CanvasMark.html#_listen_msg">_listen_msg</a></li><li data-type='method' style='display: none;'><a href="CanvasMark.html#_mount_component">_mount_component</a></li><li data-type='method' style='display: none;'><a href="CanvasMark.html#_mounted">_mounted</a></li><li data-type='method' style='display: none;'><a href="CanvasMark.html#_observe">_observe</a></li><li data-type='method' style='display: none;'><a href="CanvasMark.html#_reset_root">_reset_root</a></li><li data-type='method' style='display: none;'><a href="CanvasMark.html#_send_component">_send_component</a></li><li data-type='method' style='display: none;'><a href="CanvasMark.html#calcPosition">calcPosition</a></li><li data-type='method' style='display: none;'><a href="CanvasMark.html#drawFont">drawFont</a></li><li data-type='method' style='display: none;'><a href="CanvasMark.html#load">load</a></li><li data-type='method' style='display: none;'><a href="CanvasMark.html#monitor">monitor</a></li><li data-type='method' style='display: none;'><a href="CanvasMark.html#render">render</a></li><li data-type='method' style='display: none;'><a href="CanvasMark.html#unload">unload</a></li></ul></li><li><a href="CdataSectionNode.html">CdataSectionNode</a></li><li><a href="Checkbox.html">Checkbox</a><ul class='members'><li data-type='member' style='display: none;'><a href="Checkbox.html#._cache">_cache</a></li><li data-type='member' style='display: none;'><a href="Checkbox.html#._template">_template</a></li><li data-type='member' style='display: none;'><a href="Checkbox.html#~all">all</a></li><li data-type='member' style='display: none;'><a href="Checkbox.html#~allCheck">allCheck</a></li><li data-type='member' style='display: none;'><a href="Checkbox.html#~change">change</a></li><li data-type='member' style='display: none;'><a href="Checkbox.html#~check">check</a></li><li data-type='member' style='display: none;'><a href="Checkbox.html#~disabled">disabled</a></li><li data-type='member' style='display: none;'><a href="Checkbox.html#~disabledPos">disabledPos</a></li><li data-type='member' style='display: none;'><a href="Checkbox.html#~error">error</a></li><li data-type='member' style='display: none;'><a href="Checkbox.html#~label">label</a></li><li data-type='member' style='display: none;'><a href="Checkbox.html#~list">list</a></li><li data-type='member' style='display: none;'><a href="Checkbox.html#~maxCount">maxCount</a></li><li data-type='member' style='display: none;'><a href="Checkbox.html#~pos">pos</a></li><li data-type='member' style='display: none;'><a href="Checkbox.html#~standardList">standardList</a></li><li data-type='member' style='display: none;'><a href="Checkbox.html#~value">value</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="Checkbox.html#init">init</a></li><li data-type='method' style='display: none;'><a href="Checkbox.html#load">load</a></li><li data-type='method' style='display: none;'><a href="Checkbox.html#monitor">monitor</a></li><li data-type='method' style='display: none;'><a href="Checkbox.html#on">on</a></li><li data-type='method' style='display: none;'><a href="Checkbox.html#setAllItem">setAllItem</a></li><li data-type='method' style='display: none;'><a href="Checkbox.html#setList">setList</a></li><li data-type='method' style='display: none;'><a href="Checkbox.html#updateCheckItem">updateCheckItem</a></li></ul></li><li><a href="CommentNode.html">CommentNode</a></li><li><a href="Component.html">Component</a><ul class='members'><li data-type='member' style='display: none;'><a href="Component.html#_bus">_bus</a></li><li data-type='member' style='display: none;'><a href="Component.html#_children">_children</a></li><li data-type='member' style='display: none;'><a href="Component.html#_parent">_parent</a></li><li data-type='member' style='display: none;'><a href="Component.html#_root">_root</a></li><li data-type='member' style='display: none;'><a href="Component.html#_send_msg">_send_msg</a></li><li data-type='member' style='display: none;'><a href="Component.html#._template">_template</a></li><li data-type='member' style='display: none;'><a href="Component.html#~_destroyed">_destroyed</a></li><li data-type='member' style='display: none;'><a href="Component.html#~_o">_o</a></li><li data-type='member' style='display: none;'><a href="Component.html#~load">load</a></li><li data-type='member' style='display: none;'><a href="Component.html#~node">node</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="Component.html#_after_destroyed">_after_destroyed</a></li><li data-type='method' style='display: none;'><a href="Component.html#_before_load">_before_load</a></li><li data-type='method' style='display: none;'><a href="Component.html#_destroyed">_destroyed</a></li><li data-type='method' style='display: none;'><a href="Component.html#_has_child">_has_child</a></li><li data-type='method' style='display: none;'><a href="Component.html#_has_parent">_has_parent</a></li><li data-type='method' style='display: none;'><a href="Component.html#_instantiate_component">_instantiate_component</a></li><li data-type='method' style='display: none;'><a href="Component.html#_listen_component">_listen_component</a></li><li data-type='method' style='display: none;'><a href="Component.html#_listen_msg">_listen_msg</a></li><li data-type='method' style='display: none;'><a href="Component.html#_mount_component">_mount_component</a></li><li data-type='method' style='display: none;'><a href="Component.html#_mounted">_mounted</a></li><li data-type='method' style='display: none;'><a href="Component.html#_observe">_observe</a></li><li data-type='method' style='display: none;'><a href="Component.html#_reset_root">_reset_root</a></li><li data-type='method' style='display: none;'><a href="Component.html#_send_component">_send_component</a></li><li data-type='method' style='display: none;'><a href="Component.html#_send_msg">_send_msg</a></li><li data-type='method' style='display: none;'><a href="Component.html#load">load</a></li><li data-type='method' style='display: none;'><a href="Component.html#unload">unload</a></li></ul></li><li><a href="DropList.html">DropList</a><ul class='members'><li data-type='member' style='display: none;'><a href="DropList.html#._cache">_cache</a></li><li data-type='member' style='display: none;'><a href="DropList.html#._cache">_cache</a></li><li data-type='member' style='display: none;'><a href="DropList.html#._hideAll">_hideAll</a></li><li data-type='member' style='display: none;'><a href="DropList.html#._template">_template</a></li><li data-type='member' style='display: none;'><a href="DropList.html#._template">_template</a></li><li data-type='member' style='display: none;'><a href="DropList.html#._template">_template</a></li><li data-type='member' style='display: none;'><a href="DropList.html#~change">change</a></li><li data-type='member' style='display: none;'><a href="DropList.html#~check">check</a></li><li data-type='member' style='display: none;'><a href="DropList.html#~hover">hover</a></li><li data-type='member' style='display: none;'><a href="DropList.html#~label">label</a></li><li data-type='member' style='display: none;'><a href="DropList.html#~list">list</a></li><li data-type='member' style='display: none;'><a href="DropList.html#~pos">pos</a></li><li data-type='member' style='display: none;'><a href="DropList.html#~show">show</a></li><li data-type='member' style='display: none;'><a href="DropList.html#~standardList">standardList</a></li><li data-type='member' style='display: none;'><a href="DropList.html#~value">value</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="DropList.html#getCheckItem">getCheckItem</a></li><li data-type='method' style='display: none;'><a href="DropList.html#init">init</a></li><li data-type='method' style='display: none;'><a href="DropList.html#load">load</a></li><li data-type='method' style='display: none;'><a href="DropList.html#monitor">monitor</a></li><li data-type='method' style='display: none;'><a href="DropList.html#on">on</a></li><li data-type='method' style='display: none;'><a href="DropList.html#setList">setList</a></li><li data-type='method' style='display: none;'><a href="DropList.html#updateCheckItem">updateCheckItem</a></li></ul></li><li><a href="ElementNode.html">ElementNode</a></li><li><a href="EventBus.html">EventBus</a><ul class='methods'><li data-type='method' style='display: none;'><a href="EventBus.html#emit">emit</a></li><li data-type='method' style='display: none;'><a href="EventBus.html#off">off</a></li><li data-type='method' style='display: none;'><a href="EventBus.html#on">on</a></li></ul></li><li><a href="FileNode.html">FileNode</a><ul class='members'><li data-type='member' style='display: none;'><a href="FileNode.html#_bus">_bus</a></li><li data-type='member' style='display: none;'><a href="FileNode.html#_children">_children</a></li><li data-type='member' style='display: none;'><a href="FileNode.html#_parent">_parent</a></li><li data-type='member' style='display: none;'><a href="FileNode.html#_root">_root</a></li><li data-type='member' style='display: none;'><a href="FileNode.html#_send_msg">_send_msg</a></li><li data-type='member' style='display: none;'><a href="FileNode.html#extension">extension</a></li><li data-type='member' style='display: none;'><a href="FileNode.html#file">file</a></li><li data-type='member' style='display: none;'><a href="FileNode.html#fileType">fileType</a></li><li data-type='member' style='display: none;'><a href="FileNode.html#info">info</a></li><li data-type='member' style='display: none;'><a href="FileNode.html#remove">remove</a></li><li data-type='member' style='display: none;'><a href="FileNode.html#removeCallback">removeCallback</a></li><li data-type='member' style='display: none;'><a href="FileNode.html#.FILE_TYPE">FILE_TYPE</a></li><li data-type='member' style='display: none;'><a href="FileNode.html#._template">_template</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="FileNode.html#_after_destroyed">_after_destroyed</a></li><li data-type='method' style='display: none;'><a href="FileNode.html#_before_load">_before_load</a></li><li data-type='method' style='display: none;'><a href="FileNode.html#_destroyed">_destroyed</a></li><li data-type='method' style='display: none;'><a href="FileNode.html#_has_child">_has_child</a></li><li data-type='method' style='display: none;'><a href="FileNode.html#_has_parent">_has_parent</a></li><li data-type='method' style='display: none;'><a href="FileNode.html#_instantiate_component">_instantiate_component</a></li><li data-type='method' style='display: none;'><a href="FileNode.html#_listen_component">_listen_component</a></li><li data-type='method' style='display: none;'><a href="FileNode.html#_listen_msg">_listen_msg</a></li><li data-type='method' style='display: none;'><a href="FileNode.html#_mount_component">_mount_component</a></li><li data-type='method' style='display: none;'><a href="FileNode.html#_mounted">_mounted</a></li><li data-type='method' style='display: none;'><a href="FileNode.html#_observe">_observe</a></li><li data-type='method' style='display: none;'><a href="FileNode.html#_reset_root">_reset_root</a></li><li data-type='method' style='display: none;'><a href="FileNode.html#_send_component">_send_component</a></li><li data-type='method' style='display: none;'><a href="FileNode.html#load">load</a></li><li data-type='method' style='display: none;'><a href="FileNode.html#monitor">monitor</a></li><li data-type='method' style='display: none;'><a href="FileNode.html#on">on</a></li><li data-type='method' style='display: none;'><a href="FileNode.html#render">render</a></li><li data-type='method' style='display: none;'><a href="FileNode.html#renderAudio">renderAudio</a></li><li data-type='method' style='display: none;'><a href="FileNode.html#renderImage">renderImage</a></li><li data-type='method' style='display: none;'><a href="FileNode.html#renderVideo">renderVideo</a></li><li data-type='method' style='display: none;'><a href="FileNode.html#setFileTypeAndExtension">setFileTypeAndExtension</a></li><li data-type='method' style='display: none;'><a href="FileNode.html#setNode">setNode</a></li><li data-type='method' style='display: none;'><a href="FileNode.html#setNodeByFile">setNodeByFile</a></li><li data-type='method' style='display: none;'><a href="FileNode.html#unload">unload</a></li></ul></li><li><a href="FilePreview.html">FilePreview</a><ul class='methods'><li data-type='method' style='display: none;'><a href="FilePreview.html#_after_destroyed">_after_destroyed</a></li><li data-type='method' style='display: none;'><a href="FilePreview.html#_before_load">_before_load</a></li><li data-type='method' style='display: none;'><a href="FilePreview.html#_destroyed">_destroyed</a></li><li data-type='method' style='display: none;'><a href="FilePreview.html#_has_child">_has_child</a></li><li data-type='method' style='display: none;'><a href="FilePreview.html#_has_parent">_has_parent</a></li><li data-type='method' style='display: none;'><a href="FilePreview.html#_instantiate_component">_instantiate_component</a></li><li data-type='method' style='display: none;'><a href="FilePreview.html#_listen_component">_listen_component</a></li><li data-type='method' style='display: none;'><a href="FilePreview.html#_listen_msg">_listen_msg</a></li><li data-type='method' style='display: none;'><a href="FilePreview.html#_mount_component">_mount_component</a></li><li data-type='method' style='display: none;'><a href="FilePreview.html#_mounted">_mounted</a></li><li data-type='method' style='display: none;'><a href="FilePreview.html#_observe">_observe</a></li><li data-type='method' style='display: none;'><a href="FilePreview.html#_reset_root">_reset_root</a></li><li data-type='method' style='display: none;'><a href="FilePreview.html#_send_component">_send_component</a></li><li data-type='method' style='display: none;'><a href="FilePreview.html#find">find</a></li><li data-type='method' style='display: none;'><a href="FilePreview.html#init">init</a></li><li data-type='method' style='display: none;'><a href="FilePreview.html#load">load</a></li><li data-type='method' style='display: none;'><a href="FilePreview.html#monitor">monitor</a></li><li data-type='method' style='display: none;'><a href="FilePreview.html#on">on</a></li><li data-type='method' style='display: none;'><a href="FilePreview.html#preview">preview</a></li><li data-type='method' style='display: none;'><a href="FilePreview.html#reset">reset</a></li><li data-type='method' style='display: none;'><a href="FilePreview.html#unload">unload</a></li></ul></li><li><a href="FileUpload.html">FileUpload</a><ul class='members'><li data-type='member' style='display: none;'><a href="FileUpload.html#_bus">_bus</a></li><li data-type='member' style='display: none;'><a href="FileUpload.html#_children">_children</a></li><li data-type='member' style='display: none;'><a href="FileUpload.html#_parent">_parent</a></li><li data-type='member' style='display: none;'><a href="FileUpload.html#_root">_root</a></li><li data-type='member' style='display: none;'><a href="FileUpload.html#_send_msg">_send_msg</a></li><li data-type='member' style='display: none;'><a href="FileUpload.html#acceptExtension">acceptExtension</a></li><li data-type='member' style='display: none;'><a href="FileUpload.html#acceptType">acceptType</a></li><li data-type='member' style='display: none;'><a href="FileUpload.html#errorCallback">errorCallback</a></li><li data-type='member' style='display: none;'><a href="FileUpload.html#filePreview">filePreview</a></li><li data-type='member' style='display: none;'><a href="FileUpload.html#list">list</a></li><li data-type='member' style='display: none;'><a href="FileUpload.html#maxCount">maxCount</a></li><li data-type='member' style='display: none;'><a href="FileUpload.html#maxSize">maxSize</a></li><li data-type='member' style='display: none;'><a href="FileUpload.html#removeCallback">removeCallback</a></li><li data-type='member' style='display: none;'><a href="FileUpload.html#._template">_template</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="FileUpload.html#_after_destroyed">_after_destroyed</a></li><li data-type='method' style='display: none;'><a href="FileUpload.html#_before_load">_before_load</a></li><li data-type='method' style='display: none;'><a href="FileUpload.html#_destroyed">_destroyed</a></li><li data-type='method' style='display: none;'><a href="FileUpload.html#_has_child">_has_child</a></li><li data-type='method' style='display: none;'><a href="FileUpload.html#_has_parent">_has_parent</a></li><li data-type='method' style='display: none;'><a href="FileUpload.html#_instantiate_component">_instantiate_component</a></li><li data-type='method' style='display: none;'><a href="FileUpload.html#_listen_component">_listen_component</a></li><li data-type='method' style='display: none;'><a href="FileUpload.html#_listen_msg">_listen_msg</a></li><li data-type='method' style='display: none;'><a href="FileUpload.html#_mount_component">_mount_component</a></li><li data-type='method' style='display: none;'><a href="FileUpload.html#_mounted">_mounted</a></li><li data-type='method' style='display: none;'><a href="FileUpload.html#_observe">_observe</a></li><li data-type='method' style='display: none;'><a href="FileUpload.html#_reset_root">_reset_root</a></li><li data-type='method' style='display: none;'><a href="FileUpload.html#_send_component">_send_component</a></li><li data-type='method' style='display: none;'><a href="FileUpload.html#addFile">addFile</a></li><li data-type='method' style='display: none;'><a href="FileUpload.html#getFileCount">getFileCount</a></li><li data-type='method' style='display: none;'><a href="FileUpload.html#getFileList">getFileList</a></li><li data-type='method' style='display: none;'><a href="FileUpload.html#load">load</a></li><li data-type='method' style='display: none;'><a href="FileUpload.html#monitor">monitor</a></li><li data-type='method' style='display: none;'><a href="FileUpload.html#on">on</a></li><li data-type='method' style='display: none;'><a href="FileUpload.html#reset">reset</a></li><li data-type='method' style='display: none;'><a href="FileUpload.html#unload">unload</a></li><li data-type='method' style='display: none;'><a href="FileUpload.html#validFileExtension">validFileExtension</a></li><li data-type='method' style='display: none;'><a href="FileUpload.html#validFileType">validFileType</a></li></ul></li><li><a href="MultipleList.html">MultipleList</a><ul class='members'><li data-type='member' style='display: none;'><a href="MultipleList.html#._template">_template</a></li><li data-type='member' style='display: none;'><a href="MultipleList.html#~change">change</a></li><li data-type='member' style='display: none;'><a href="MultipleList.html#~check">check</a></li><li data-type='member' style='display: none;'><a href="MultipleList.html#~error">error</a></li><li data-type='member' style='display: none;'><a href="MultipleList.html#~hover">hover</a></li><li data-type='member' style='display: none;'><a href="MultipleList.html#~label">label</a></li><li data-type='member' style='display: none;'><a href="MultipleList.html#~list">list</a></li><li data-type='member' style='display: none;'><a href="MultipleList.html#~maxCount">maxCount</a></li><li data-type='member' style='display: none;'><a href="MultipleList.html#~pos">pos</a></li><li data-type='member' style='display: none;'><a href="MultipleList.html#~show">show</a></li><li data-type='member' style='display: none;'><a href="MultipleList.html#~standardList">standardList</a></li><li data-type='member' style='display: none;'><a href="MultipleList.html#~value">value</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="MultipleList.html#getCheckItem">getCheckItem</a></li><li data-type='method' style='display: none;'><a href="MultipleList.html#init">init</a></li><li data-type='method' style='display: none;'><a href="MultipleList.html#load">load</a></li><li data-type='method' style='display: none;'><a href="MultipleList.html#monitor">monitor</a></li><li data-type='method' style='display: none;'><a href="MultipleList.html#on">on</a></li><li data-type='method' style='display: none;'><a href="MultipleList.html#setList">setList</a></li><li data-type='method' style='display: none;'><a href="MultipleList.html#updateCheckItem">updateCheckItem</a></li></ul></li><li><a href="MyNode.html">MyNode</a><ul class='members'><li data-type='member' style='display: none;'><a href="MyNode.html#length">length</a></li><li data-type='member' style='display: none;'><a href="MyNode.html#prevObject">prevObject</a></li><li data-type='member' style='display: none;'><a href="MyNode.html#._cache">_cache</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="MyNode.html#$init">$init</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#addClass">addClass</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#after">after</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#append">append</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#appendScript">appendScript</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#attr">attr</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#before">before</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#childNodes">childNodes</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#children">children</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#click">click</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#concat">concat</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#css">css</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#find">find</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#forEach">forEach</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#hasClass">hasClass</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#height">height</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#hide">hide</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#html">html</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#includes">includes</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#indexOf">indexOf</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#insert">insert</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#matches">matches</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#maxZIndex">maxZIndex</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#mergeCell">mergeCell</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#offset">offset</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#on">on</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#pop">pop</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#prepend">prepend</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#push">push</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#reduce">reduce</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#remove">remove</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#removeAttr">removeAttr</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#removeClass">removeClass</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#replaceWith">replaceWith</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#runCode">runCode</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#show">show</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#splice">splice</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#text">text</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#textAndTitle">textAndTitle</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#toggleClass">toggleClass</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#val">val</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#width">width</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#._string2Array">_string2Array</a></li><li data-type='method' style='display: none;'><a href="MyNode.html#._string2fragment">_string2fragment</a></li></ul></li><li><a href="Observe.html">Observe</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Observe.html#addCallback">addCallback</a></li><li data-type='method' style='display: none;'><a href="Observe.html#create">create</a></li><li data-type='method' style='display: none;'><a href="Observe.html#defineObject">defineObject</a></li><li data-type='method' style='display: none;'><a href="Observe.html#monitorMethodsOfArray">monitorMethodsOfArray</a></li><li data-type='method' style='display: none;'><a href="Observe.html#proxyArray">proxyArray</a></li><li data-type='method' style='display: none;'><a href="Observe.html#proxyObject">proxyObject</a></li></ul></li><li><a href="Pagination.html">Pagination</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Pagination.html#_after_destroyed">_after_destroyed</a></li><li data-type='method' style='display: none;'><a href="Pagination.html#_before_load">_before_load</a></li><li data-type='method' style='display: none;'><a href="Pagination.html#_destroyed">_destroyed</a></li><li data-type='method' style='display: none;'><a href="Pagination.html#_has_child">_has_child</a></li><li data-type='method' style='display: none;'><a href="Pagination.html#_has_parent">_has_parent</a></li><li data-type='method' style='display: none;'><a href="Pagination.html#_instantiate_component">_instantiate_component</a></li><li data-type='method' style='display: none;'><a href="Pagination.html#_listen_component">_listen_component</a></li><li data-type='method' style='display: none;'><a href="Pagination.html#_listen_msg">_listen_msg</a></li><li data-type='method' style='display: none;'><a href="Pagination.html#_mount_component">_mount_component</a></li><li data-type='method' style='display: none;'><a href="Pagination.html#_mounted">_mounted</a></li><li data-type='method' style='display: none;'><a href="Pagination.html#_observe">_observe</a></li><li data-type='method' style='display: none;'><a href="Pagination.html#_reset_root">_reset_root</a></li><li data-type='method' style='display: none;'><a href="Pagination.html#_send_component">_send_component</a></li><li data-type='method' style='display: none;'><a href="Pagination.html#createOmit">createOmit</a></li><li data-type='method' style='display: none;'><a href="Pagination.html#createPageLabel">createPageLabel</a></li><li data-type='method' style='display: none;'><a href="Pagination.html#init">init</a></li><li data-type='method' style='display: none;'><a href="Pagination.html#load">load</a></li><li data-type='method' style='display: none;'><a href="Pagination.html#monitor">monitor</a></li><li data-type='method' style='display: none;'><a href="Pagination.html#on">on</a></li><li data-type='method' style='display: none;'><a href="Pagination.html#render">render</a></li><li data-type='method' style='display: none;'><a href="Pagination.html#renderGotoPage">renderGotoPage</a></li><li data-type='method' style='display: none;'><a href="Pagination.html#renderNextPage">renderNextPage</a></li><li data-type='method' style='display: none;'><a href="Pagination.html#renderPage">renderPage</a></li><li data-type='method' style='display: none;'><a href="Pagination.html#renderPreviousPage">renderPreviousPage</a></li><li data-type='method' style='display: none;'><a href="Pagination.html#renderTip">renderTip</a></li><li data-type='method' style='display: none;'><a href="Pagination.html#unload">unload</a></li><li data-type='method' style='display: none;'><a href="Pagination.html#valid">valid</a></li></ul></li><li><a href="Popup.html">Popup</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Popup.html#_mounted">_mounted</a></li><li data-type='method' style='display: none;'><a href="Popup.html#calcDragRange">calcDragRange</a></li><li data-type='method' style='display: none;'><a href="Popup.html#dragEvent">dragEvent</a></li><li data-type='method' style='display: none;'><a href="Popup.html#load">load</a></li><li data-type='method' style='display: none;'><a href="Popup.html#moveTo">moveTo</a></li><li data-type='method' style='display: none;'><a href="Popup.html#on">on</a></li><li data-type='method' style='display: none;'><a href="Popup.html#resizeEvent">resizeEvent</a></li><li data-type='method' style='display: none;'><a href="Popup.html#superEvent">superEvent</a></li><li data-type='method' style='display: none;'><a href="Popup.html#superMonitor">superMonitor</a></li><li data-type='method' style='display: none;'><a href="Popup.html#unload">unload</a></li><li data-type='method' style='display: none;'><a href="Popup.html#._hideAll">_hideAll</a></li></ul></li><li><a href="Radio.html">Radio</a><ul class='members'><li data-type='member' style='display: none;'><a href="Radio.html#._cache">_cache</a></li><li data-type='member' style='display: none;'><a href="Radio.html#._template">_template</a></li><li data-type='member' style='display: none;'><a href="Radio.html#~change">change</a></li><li data-type='member' style='display: none;'><a href="Radio.html#~check">check</a></li><li data-type='member' style='display: none;'><a href="Radio.html#~label">label</a></li><li data-type='member' style='display: none;'><a href="Radio.html#~list">list</a></li><li data-type='member' style='display: none;'><a href="Radio.html#~pos">pos</a></li><li data-type='member' style='display: none;'><a href="Radio.html#~required">required</a></li><li data-type='member' style='display: none;'><a href="Radio.html#~standardList">standardList</a></li><li data-type='member' style='display: none;'><a href="Radio.html#~value">value</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="Radio.html#init">init</a></li><li data-type='method' style='display: none;'><a href="Radio.html#load">load</a></li><li data-type='method' style='display: none;'><a href="Radio.html#monitor">monitor</a></li><li data-type='method' style='display: none;'><a href="Radio.html#on">on</a></li><li data-type='method' style='display: none;'><a href="Radio.html#setList">setList</a></li><li data-type='method' style='display: none;'><a href="Radio.html#updateCheckItem">updateCheckItem</a></li></ul></li><li><a href="RootNode.html">RootNode</a></li><li><a href="ScrollBar.html">ScrollBar</a><ul class='members'><li data-type='member' style='display: none;'><a href="ScrollBar.html#_bus">_bus</a></li><li data-type='member' style='display: none;'><a href="ScrollBar.html#_children">_children</a></li><li data-type='member' style='display: none;'><a href="ScrollBar.html#_parent">_parent</a></li><li data-type='member' style='display: none;'><a href="ScrollBar.html#_root">_root</a></li><li data-type='member' style='display: none;'><a href="ScrollBar.html#_send_msg">_send_msg</a></li><li data-type='member' style='display: none;'><a href="ScrollBar.html#container">container</a></li><li data-type='member' style='display: none;'><a href="ScrollBar.html#delayCalcRate">delayCalcRate</a></li><li data-type='member' style='display: none;'><a href="ScrollBar.html#fixed">fixed</a></li><li data-type='member' style='display: none;'><a href="ScrollBar.html#mousedown">mousedown</a></li><li data-type='member' style='display: none;'><a href="ScrollBar.html#rate">rate</a></li><li data-type='member' style='display: none;'><a href="ScrollBar.html#scrollId">scrollId</a></li><li data-type='member' style='display: none;'><a href="ScrollBar.html#smoothY">smoothY</a></li><li data-type='member' style='display: none;'><a href="ScrollBar.html#._template">_template</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="ScrollBar.html#_after_destroyed">_after_destroyed</a></li><li data-type='method' style='display: none;'><a href="ScrollBar.html#_before_load">_before_load</a></li><li data-type='method' style='display: none;'><a href="ScrollBar.html#_destroyed">_destroyed</a></li><li data-type='method' style='display: none;'><a href="ScrollBar.html#_has_child">_has_child</a></li><li data-type='method' style='display: none;'><a href="ScrollBar.html#_has_parent">_has_parent</a></li><li data-type='method' style='display: none;'><a href="ScrollBar.html#_instantiate_component">_instantiate_component</a></li><li data-type='method' style='display: none;'><a href="ScrollBar.html#_listen_component">_listen_component</a></li><li data-type='method' style='display: none;'><a href="ScrollBar.html#_listen_msg">_listen_msg</a></li><li data-type='method' style='display: none;'><a href="ScrollBar.html#_mount_component">_mount_component</a></li><li data-type='method' style='display: none;'><a href="ScrollBar.html#_mounted">_mounted</a></li><li data-type='method' style='display: none;'><a href="ScrollBar.html#_observe">_observe</a></li><li data-type='method' style='display: none;'><a href="ScrollBar.html#_reset_root">_reset_root</a></li><li data-type='method' style='display: none;'><a href="ScrollBar.html#_send_component">_send_component</a></li><li data-type='method' style='display: none;'><a href="ScrollBar.html#calcThumbRate">calcThumbRate</a></li><li data-type='method' style='display: none;'><a href="ScrollBar.html#hideThumb">hideThumb</a></li><li data-type='method' style='display: none;'><a href="ScrollBar.html#load">load</a></li><li data-type='method' style='display: none;'><a href="ScrollBar.html#monitor">monitor</a></li><li data-type='method' style='display: none;'><a href="ScrollBar.html#on">on</a></li><li data-type='method' style='display: none;'><a href="ScrollBar.html#onContainer">onContainer</a></li><li data-type='method' style='display: none;'><a href="ScrollBar.html#setStyle">setStyle</a></li><li data-type='method' style='display: none;'><a href="ScrollBar.html#showThumb">showThumb</a></li><li data-type='method' style='display: none;'><a href="ScrollBar.html#smoothScrollTo">smoothScrollTo</a></li><li data-type='method' style='display: none;'><a href="ScrollBar.html#unload">unload</a></li></ul></li><li><a href="Slider.html">Slider</a><ul class='members'><li data-type='member' style='display: none;'><a href="Slider.html#._cache">_cache</a></li><li data-type='member' style='display: none;'><a href="Slider.html#._template">_template</a></li><li data-type='member' style='display: none;'><a href="Slider.html#~change">change</a></li><li data-type='member' style='display: none;'><a href="Slider.html#~decimal">decimal</a></li><li data-type='member' style='display: none;'><a href="Slider.html#~drag">drag</a></li><li data-type='member' style='display: none;'><a href="Slider.html#~dragWidth">dragWidth</a></li><li data-type='member' style='display: none;'><a href="Slider.html#~label">label</a></li><li data-type='member' style='display: none;'><a href="Slider.html#~max">max</a></li><li data-type='member' style='display: none;'><a href="Slider.html#~min">min</a></li><li data-type='member' style='display: none;'><a href="Slider.html#~pageX">pageX</a></li><li data-type='member' style='display: none;'><a href="Slider.html#~step">step</a></li><li data-type='member' style='display: none;'><a href="Slider.html#~valid">valid</a></li><li data-type='member' style='display: none;'><a href="Slider.html#~value">value</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="Slider.html#init">init</a></li><li data-type='method' style='display: none;'><a href="Slider.html#load">load</a></li><li data-type='method' style='display: none;'><a href="Slider.html#monitor">monitor</a></li><li data-type='method' style='display: none;'><a href="Slider.html#on">on</a></li><li data-type='method' style='display: none;'><a href="Slider.html#update">update</a></li></ul></li><li><a href="Switch.html">Switch</a><ul class='members'><li data-type='member' style='display: none;'><a href="Switch.html#._cache">_cache</a></li><li data-type='member' style='display: none;'><a href="Switch.html#._template">_template</a></li><li data-type='member' style='display: none;'><a href="Switch.html#~change">change</a></li><li data-type='member' style='display: none;'><a href="Switch.html#~label">label</a></li><li data-type='member' style='display: none;'><a href="Switch.html#~value">value</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="Switch.html#init">init</a></li><li data-type='method' style='display: none;'><a href="Switch.html#load">load</a></li><li data-type='method' style='display: none;'><a href="Switch.html#monitor">monitor</a></li><li data-type='method' style='display: none;'><a href="Switch.html#on">on</a></li></ul></li><li><a href="TaskQueue.html">TaskQueue</a><ul class='methods'><li data-type='method' style='display: none;'><a href="TaskQueue.html#add">add</a></li><li data-type='method' style='display: none;'><a href="TaskQueue.html#execute">execute</a></li></ul></li><li><a href="TextNode.html">TextNode</a></li><li><a href="Time.html">Time</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Time.html#dateCount">dateCount</a></li><li data-type='method' style='display: none;'><a href="Time.html#firstDate">firstDate</a></li><li data-type='method' style='display: none;'><a href="Time.html#format">format</a></li><li data-type='method' style='display: none;'><a href="Time.html#forward">forward</a></li><li data-type='method' style='display: none;'><a href="Time.html#init">init</a></li><li data-type='method' style='display: none;'><a href="Time.html#lastDate">lastDate</a></li><li data-type='method' style='display: none;'><a href="Time.html#transform">transform</a></li></ul></li><li><a href="Watcher.html">Watcher</a></li><li><a href="WaterMark.html">WaterMark</a><ul class='methods'><li data-type='method' style='display: none;'><a href="WaterMark.html#_after_destroyed">_after_destroyed</a></li><li data-type='method' style='display: none;'><a href="WaterMark.html#_before_load">_before_load</a></li><li data-type='method' style='display: none;'><a href="WaterMark.html#_destroyed">_destroyed</a></li><li data-type='method' style='display: none;'><a href="WaterMark.html#_has_child">_has_child</a></li><li data-type='method' style='display: none;'><a href="WaterMark.html#_has_parent">_has_parent</a></li><li data-type='method' style='display: none;'><a href="WaterMark.html#_instantiate_component">_instantiate_component</a></li><li data-type='method' style='display: none;'><a href="WaterMark.html#_listen_component">_listen_component</a></li><li data-type='method' style='display: none;'><a href="WaterMark.html#_listen_msg">_listen_msg</a></li><li data-type='method' style='display: none;'><a href="WaterMark.html#_mount_component">_mount_component</a></li><li data-type='method' style='display: none;'><a href="WaterMark.html#_mounted">_mounted</a></li><li data-type='method' style='display: none;'><a href="WaterMark.html#_observe">_observe</a></li><li data-type='method' style='display: none;'><a href="WaterMark.html#_reset_root">_reset_root</a></li><li data-type='method' style='display: none;'><a href="WaterMark.html#_send_component">_send_component</a></li><li data-type='method' style='display: none;'><a href="WaterMark.html#addLinkedNode">addLinkedNode</a></li><li data-type='method' style='display: none;'><a href="WaterMark.html#init">init</a></li><li data-type='method' style='display: none;'><a href="WaterMark.html#listenNodeChange">listenNodeChange</a></li><li data-type='method' style='display: none;'><a href="WaterMark.html#load">load</a></li><li data-type='method' style='display: none;'><a href="WaterMark.html#monitor">monitor</a></li><li data-type='method' style='display: none;'><a href="WaterMark.html#setZIndex">setZIndex</a></li><li data-type='method' style='display: none;'><a href="WaterMark.html#unload">unload</a></li><li data-type='method' style='display: none;'><a href="WaterMark.html#updateMark">updateMark</a></li></ul></li><li><a href="XMLNode.html">XMLNode</a><ul class='methods'><li data-type='method' style='display: none;'><a href="XMLNode.html#append">append</a></li><li data-type='method' style='display: none;'><a href="XMLNode.html#toJson">toJson</a></li></ul></li></ul>
    
</nav>

<div id="main">
    
    <h1 class="page-title">modules/extend/file-upload/file-upload.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import './file-upload.css';
import Component from '../../base/component.js';
import FileNode from '../file-node/file-node.js';
import FilePreview from '../file-preview/file-preview.js';

const { FILE_TYPE } = FileNode;

/**
 * 文件上传
 * @author wang.xin
 * @extends Component
 */
class FileUpload extends Component {
    constructor() {
        super();
    }

    /**
     * 挂载
     */
    _mounted() {
        this.monitor();
        this.on();
    }

    /**
     * 属性
     */
    monitor() {
        /**
         * @member {FilePreview} filePreview 文件预览器
         * @memberof FileUpload#
         */
        this._children.filePreview = new FilePreview();
        document.body.appendChild(this._children.filePreview.node[0]);

        /**
         * @member {object[]} list 文件列表
         * @memberof FileUpload#
         */
        this._observe('list', [], () => {}, false);

        /**
         * @member {Number} maxSize 上传文件大小限制，单位 B
         * @memberof FileUpload#
         * @default null
         */
        this._observe('maxSize', null, () => {});

        /**
         * @member {Number} maxCount 上传文件个数限制
         * @memberof FileUpload#
         * @default 10
         */
        this._observe('maxCount', 10, () => {});

        /**
         * @member {String[]} acceptType 允许上传的文件类型
         * @memberof FileUpload#
         * @default []
         * @todo
         * 仅有一个文件类型的时候做限制
         */
        this._observe('acceptType', [], (value) => {
            if (value.length === 1 &amp;&amp; FILE_TYPE[value[0]].type != null) {
                this.node.find('input[type="file"]').attr('accept', FILE_TYPE[value[0]].type);
            } else {
                this.node.find('input[type="file"]').removeAttr('accept');
            }
        });

        /**
         * @member {Object} acceptExtension 允许上传的文件扩展名
         * @memberof FileUpload#
         * @example
         * {
         *     image: ['webp', 'jpg', 'jpeg', 'png', 'bmp', 'gif'],
         *     video: ['mp4'],
         *     audio: ['mp3', 'm4a', 'wav'],
         * },
         */
        this._observe('acceptExtension', null, () => {});

        /**
         * @member {Function} errorCallback 发生错误回调函数
         * @memberof FileUpload#
         */
        this.errorCallback = () => {};

        /**
         * @member {Function} removeCallback 删除文件回调函数
         * @memberof FileUpload#
         */
        this.removeCallback = () => {};
    }

    /**
     * 事件
     */
    on() {
        /**
         * @event 添加文件
         */
        this.node.on('click', '.fu_add-file', () => {
            this.node.find('input[type="file"]').click();
        });

        /**
         * @event 文件变化
         */
        this.node.find('input[type="file"]').on('change', (e, target) => {
            let fileList = target[0].files;

            if (this.getFileCount() + fileList.length > this.maxCount) {
                this.errorCallback(0);
            }

            for (let i = 0; i &lt; fileList.length &amp;&amp; this.getFileCount() &lt; this.maxCount; i++) {
                this.addFile(fileList[i]);
            }

            target.val('');
        });

        /**
         * @event 点击文件
         */
        this.node.on('click', '.fn_file-content', (e, target) => {
            this._children.filePreview.load(target.find('.fn_file-item')[0], this.node.find('.fn_file-item'));
        });
    }

    /**
     * 重置
     * @memberof FileUpload
     */
    reset() {
        this.list.forEach((file) => (file.remove = true));
        this.list = [];
    }

    /**
     * 加载
     * @param {Object} params 入参
     * @param {Number} params.maxSize 文件上传最大值，单位 B
     * @param {Number} params.maxCount 文件上传最大数量
     * @param {String[]} params.acceptType 允许上传的文件类型
     * @param {Object} params.acceptExtension 允许上传的文件扩展名
     * @param {Function} params.errorCallback 发生错误回调函数
     * @param {Function} params.removeCallback 删除文件回调函数
     * @memberof FileUpload
     */
    load(params = {}) {
        for (let key in params) {
            if (['maxSize', 'maxCount'].includes(key) &amp;&amp; typeof params[key] !== 'number') {
                continue;
            }
            if (['errorCallback', 'removeCallback'].includes(key) &amp;&amp; typeof params[key] !== 'function') {
                continue;
            }
            this[key] = params[key];
        }
    }

    /**
     * 卸载
     * @memberof FileUpload
     */
    unload() {
        this.reset();
    }

    /**
     * 校验文件类型
     * @param {FileNode} fileNode 文件节点
     * @memberof FileUpload
     */
    validFileType(fileNode) {
        if (this.acceptType.length === 0) {
            return true;
        }

        return this.acceptType.includes(fileNode.fileType);
    }

    /**
     * 校验文件后缀
     * @param {FileNode} fileNode 文件节点
     * @memberof FileUpload
     */
    validFileExtension(fileNode) {
        if (this.acceptExtension == null || this.acceptExtension[fileNode.fileType] == null) {
            return true;
        }

        return this.acceptExtension[fileNode.fileType].includes(fileNode.extension);
    }

    /**
     * 添加文件
     * @param {String|File} file 文件地址或文件
     * @param {Object} info 附带信息
     * @todo
     * 1. 校验文件大小是否超出限制
     * 2. 校验文件类型和扩展名是否符合规则
     * 3. 情况1和2都符合条件，则添加节点
     * @memberof FileUpload
     */
    addFile(file, info = {}) {
        if (file instanceof File || typeof file === 'string') {
            let fileNode = new FileNode();

            fileNode.load(file);
            if (this.maxSize != null &amp;&amp; file instanceof File &amp;&amp; file.size > this.maxSize) {
                this.errorCallback(1);
                return;
            }
            if (!this.validFileType(fileNode) || !this.validFileExtension(fileNode)) {
                this.errorCallback(2);
                return;
            }
            fileNode.info = info;
            fileNode.removeCallback = this.removeCallback;
            this.node.find('.fu_add-file').before(fileNode.node);
            this.list.push(fileNode);
        }
    }

    /**
     * 获取FileNode详情
     * @memberof FileUpload
     */
    getFileList() {
        let res = {
            webFile: [], // 文件名数组（服务器文件）
            localFile: [], // 文件数组（本地文件）
            delFile: [] // 删除的服务器文件
        };

        this.list.forEach((fileNode) => {
            let type = Object.prototype.toString.call(fileNode.file); // 判断是文件还是文件地址

            if (fileNode.remove === false) {
                if (type === '[object String]') {
                    res.webFile.push(fileNode);
                } else if (type === '[object File]') {
                    res.localFile.push(fileNode);
                }
            } else {
                if (type === '[object String]') {
                    res.delFile.push(fileNode);
                }
            }
        });

        return res;
    }

    /**
     * 获取FileNode个数
     * @memberof FileUpload
     */
    getFileCount() {
        return this.list.filter((fileNode) => fileNode.remove === false).length;
    }
}

/**
 * @member {String} _template 模板字符串
 * @memberof FileUpload
 * @static
 */
FileUpload._template = `&lt;div class="ly-form ly-file-upload">
&lt;div class="fu_add-file">
    &lt;input type="file" multiple="multiple">
&lt;/div>
&lt;/div>`;

export default FileUpload;
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.2</a> on Sat Aug 03 2024 14:30:55 GMT+0800 (GMT+08:00) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>
